# Пример REST API на GO

Пример API написанном на языка Go.

## Установа

### Пкет для работы с миграциями базы данных

```shell
go install -tags 'postgres' github.com/golang-migrate/migrate/v4/cmd/migrate@latest
```

## Road map

### Main

- [x] Добавить обработку транзакций
- [x] Добавить обработчик обновления статуса бронирования.
- [x] Добавить в бд в таблицу бронирования уникальный ключ (пользователь + место)
- [ ] Добавить обработчик билетов. Отдавать текстовый файл. Воспользоваться наработками.
- [ ] Добавить кеширование билетов в файл.
- [ ] Добавить обработку опций мест. Возможно имеет смысл переименовать этот функционал =)
- [ ] Добавить обработку пользователей
- [x] Заменить тип `string` id на `UUID` id
- [ ] Добавить более сложное логирование. Например [slog](https://pkg.go.dev/log/slog)
- [ ] Добавить метрики. Prometheus?
- [ ] Добавить трассировку. [OpenTracing](https://opentracing.io/docs/) есть в примере, так что лучше начать с него.

### Extra

- [ ] Добавить разные варианты ответа в зависимости от ожидаемого типа в заголовке запроса.
- [ ] Попробовать вынесение sql запросов в отдельный файл. Embed?

### Super extra

- [ ] Тесты
- [ ] Исправить множественные окончания. `s` фикс.
- [ ] Стандартизировать ошибки. Попробовать кастомные ошибки с интерфейсом `Error(): string`.
